webpackJsonp([1],{DdRU:function(e,t){},KxNh:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},s,!1,function(e){r("gsu9")},null,null).exports,u=r("/ocq"),l=r("Dd8w"),a=r.n(l),m=r("mtWM").a.create({baseURL:"http://127.0.0.1:9999/api",timeout:5e3});m.interceptors.request.use(function(e){return e}),m.interceptors.response.use(function(e){return e.data});var c=m;var i={login:function(e){return c({url:"/cattle/house/user/login",method:"post",data:e})},initCost:function(e){return c({url:"/cattle/house/cost/initCost",method:"post",data:e})},calculateCost:function(e){return c({url:"/cattle/house/cost/calculateCost",method:"post",data:e})},saveCost:function(e){return c({url:"/cattle/house/cost/saveCost",method:"post",data:e})}},_=r("NYxO"),p=function(e,t,r){""===t?r(new Error("请输入登录密码")):r()},f=function(e,t,r){""===t?r(new Error("请输入用户编号或手机号")):r()},d={name:"Login",data:function(){return{ruleForm:{user_no:"",user_password:""},rules:{user_no:[{validator:f,trigger:"blur"}],user_password:[{validator:p,trigger:"blur"}]}}},computed:a()({},Object(_.b)(["userInfo"])),methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;i.login(a()({},t.ruleForm,{user_phone:t.ruleForm.user_no})).then(function(e){1===e.code?(t.$store.commit("setUserInfo",e.data),t.$router.push("/Calculate")):t.$message(e.message)})})}}},b={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"user_no"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户编号或手机号"},model:{value:e.ruleForm.user_no,callback:function(t){e.$set(e.ruleForm,"user_no",t)},expression:"ruleForm.user_no"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"user_password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入登录密码"},model:{value:e.ruleForm.user_password,callback:function(t){e.$set(e.ruleForm,"user_password",t)},expression:"ruleForm.user_password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var v=r("VU/8")(d,b,!1,function(e){r("uY16")},"data-v-693ceb03",null).exports,F={name:"Calculate",data:function(){return{ruleForm:{},rules:{}}},computed:a()({},Object(_.b)(["userInfo"])),methods:{getInit:function(){var e=this;i.initCost({user_id:this.userInfo.user_id}).then(function(t){1===t.code?e.ruleForm=a()({},t.data):e.$message(t.message)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;i.calculateCost(a()({},t.ruleForm,{cost_contract_no:t.userInfo.user_contract_no})).then(function(e){1===e.code?(t.$store.commit("setCalculate",e.data),t.$router.push("/Cost")):t.$message(e.message)})})}},mounted:function(){this.getInit()}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"水表期初读数",prop:"cost_w_s_number"}},[r("div",{staticClass:"label"},[e._v(e._s(e.ruleForm.cost_w_s_number))])]),e._v(" "),r("el-form-item",{attrs:{label:"水表期末读数",prop:"cost_w_e_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.cost_w_e_number,callback:function(t){e.$set(e.ruleForm,"cost_w_e_number",t)},expression:"ruleForm.cost_w_e_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电表期初读数",prop:"cost_e_s_number"}},[r("div",{staticClass:"label"},[e._v(e._s(e.ruleForm.cost_e_s_number))])]),e._v(" "),r("el-form-item",{attrs:{label:"电表期末读数",prop:"cost_e_e_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.cost_e_e_number,callback:function(t){e.$set(e.ruleForm,"cost_e_e_number",t)},expression:"ruleForm.cost_e_e_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"气表期初读数",prop:"cost_g_s_number"}},[r("div",{staticClass:"label"},[e._v(e._s(e.ruleForm.cost_g_s_number))])]),e._v(" "),r("el-form-item",{attrs:{label:"气表期末读数",prop:"cost_g_e_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.cost_g_e_number,callback:function(t){e.$set(e.ruleForm,"cost_g_e_number",t)},expression:"ruleForm.cost_g_e_number"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("计算")])],1)],1)},staticRenderFns:[]};var g=r("VU/8")(F,h,!1,function(e){r("DdRU")},"data-v-2379cf00",null).exports,y={name:"Calculate",data:function(){return{rules:{}}},methods:{moneyFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(isFinite(e)){if(0===e)return e.toFixed(t);var o="",s=String(e).indexOf(".");if(-1===s)o=String(e).replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+"."+"0".repeat(t);else{var n=String((Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)),u=n.slice(s,s+t+1);o=String(n.slice(0,s)).replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+u}return o}return"--"},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;i.saveCost(a()({},t.ruleForm)).then(function(e){t.$message(e.message)})})}},computed:a()({},Object(_.b)(["calculateData"]),{ruleForm:function(){var e=a()({},this.calculateData);for(var t in e)-1!=t.indexOf("_money")&&(e[t]=this.moneyFormat(e[t]));return e}})},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"水表读数",prop:"cost_w_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_w_number,callback:function(t){e.$set(e.ruleForm,"cost_w_number",t)},expression:"ruleForm.cost_w_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"水费",prop:"cost_w_money"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_w_money,callback:function(t){e.$set(e.ruleForm,"cost_w_money",t)},expression:"ruleForm.cost_w_money"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电表读数",prop:"cost_e_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_e_number,callback:function(t){e.$set(e.ruleForm,"cost_e_number",t)},expression:"ruleForm.cost_e_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电费",prop:"cost_e_money"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_e_money,callback:function(t){e.$set(e.ruleForm,"cost_e_money",t)},expression:"ruleForm.cost_e_money"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"气表读数",prop:"cost_g_number"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_g_number,callback:function(t){e.$set(e.ruleForm,"cost_g_number",t)},expression:"ruleForm.cost_g_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"气费",prop:"cost_g_money"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_g_money,callback:function(t){e.$set(e.ruleForm,"cost_g_money",t)},expression:"ruleForm.cost_g_money"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"合计",prop:"cost_total_money"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:e.ruleForm.cost_total_money,callback:function(t){e.$set(e.ruleForm,"cost_total_money",t)},expression:"ruleForm.cost_total_money"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var w=r("VU/8")(y,x,!1,function(e){r("KxNh")},"data-v-4908655d",null).exports;o.default.use(u.a);var $=new u.a({routes:[{path:"/",name:"Login",component:v},{path:"/Calculate",name:"Calculate",component:g},{path:"/Cost",name:"Cost",component:w}]}),C=r("zL8q"),k=r.n(C);r("tvR6");o.default.use(_.a);var I=new _.a.Store({state:{userInfo:{user_contract_no:"",user_id:"",user_name:"",user_no:"",user_phone:""},calculateData:{}},mutations:{setUserInfo:function(e,t){e.userInfo=t},setCalculate:function(e,t){e.calculateData=t}}});o.default.config.productionTip=!1,o.default.use(k.a),new o.default({el:"#app",router:$,store:I,components:{App:n},template:"<App/>"})},gsu9:function(e,t){},tvR6:function(e,t){},uY16:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1cb6a1a80ac2d58011f8.js.map